\section{Data and code availability}
\subsection{Data reading}

%%%%%%%%
% \hyperlink{Listing 1}{\textit{\textcolor{blue}{Code 1}}}.
%%%%%%%%

\hypertarget{Listing 1}{}
\begin{lstlisting}[language=R, caption=Importing and including package]
\end{lstlisting}
\begin{code}{R}
library(rio)     # for dealing with basic import export
library(ggplot2) # for dealing with plot formats
library(zoo)      # for dealing with year quarter formats
library(car)     # for levent and shapiro
library(FSA)     # for Dunn test

data <- read.csv(file.choose()) # choose file Intel_CPUs.csv

data <- data[, c("Vertical_Segment","Status","Launch_Date",
                 "Lithography","Recommended_Customer_Price",
                 "nb_of_Cores","Processor_Base_Frequency",
                 "TDP","T")] 
\end{code}


\hypertarget{Listing 2}{}
\begin{lstlisting}[language=R, caption=Exporting code]
\end{lstlisting}
\begin{code}{R}
names(data) <- c("market", "status", "ldate", "litho", 
    "rprice", "ncore", "bfreq", "tdp", 
    "temp")

export("./cpu-clean.csv")
\end{code}


\subsection{Data cleaning}

%Check for NA:
\hypertarget{Listing 3}{}
\begin{lstlisting}[language=R, caption=Importing and including package]
\end{lstlisting}
\begin{code}{R}
sum(is.na(data))
apply(is.na(data),2,sum)
apply(is.na(data),2,mean)
\end{code}

%Check for negatives:
\hypertarget{Listing 4}{}
\begin{lstlisting}[language=R, caption=Importing and including package]
\end{lstlisting}
\begin{code}{R}
sum(data<0,na.rm=TRUE)
apply(data<0,2,sum,na.rm=TRUE)
\end{code}

% Launch date: 
\hypertarget{Listing 5}{}
\begin{lstlisting}[language=R, caption=Transforming launch date into zoo's standard]
\end{lstlisting}
\begin{code}{R}
data[,"ldate"] <- ( as.yearqtr(data[,"ldate"], format = "Q%q'%y"))
\end{code}

%Lithography (litho)
\hypertarget{Listing 6}{}
\begin{lstlisting}[language=R, caption=Cutting out "nm"]
\end{lstlisting}
\begin{code}{R}
data[,"litho"] <- as.numeric(gsub(" nm", "", data[,"litho"]))
\end{code}

%Recommended Customer Price (rprice)
\hypertarget{Listing 7}{}
\begin{lstlisting}[language=R, caption=Remove uneccesary
characters and keep the largest price]
\end{lstlisting}
\begin{code}{R}
data[,"rprice"] <- gsub("(^\\$(\\d)+.(\\d)+ - )", "", data[,"rprice"])
data$rprice <- ifelse(data$rprice == "N/A", NA, data$rprice)
data$rprice <- as.numeric(gsub('\\$|,', '', data$rprice))
\end{code}

%Base frequency (bfreq)
\hypertarget{Listing 8}{}
\begin{lstlisting}[language=R, caption=Cut out "GHz" and "MHz"and convert "MHz" to "GHz"]
\end{lstlisting}
\begin{code}{R}
data[,"bfreq"] <- as.numeric(gsub("( GHz)|( MHz)", "", data[,"bfreq"]))
data<- data[!is.na(data$bfreq), ]
data$bfreq[data$bfreq > 10] <- data$bfreq[data$bfreq > 10]*0.001
\end{code}

%Thermal design power (TDP)
\hypertarget{Listing 9}{}
\begin{lstlisting}[language=R, caption=Cut out "W"]
\end{lstlisting}
\begin{code}{R}
data[,"tdp"] <- as.numeric(gsub(" W", "", data[,"tdp"]))
\end{code}

%Temperature (temp)
\hypertarget{Listing 10}{}
\begin{lstlisting}[language=R, caption=Match numeric value; take the maximum number; export file as cleaned data]
\end{lstlisting}
\begin{code}{R}
data[,"temp"] <- (gsub("[^0-9.\\-]+", ",", data[,"temp"]))
for (i in seq_along(data[["temp"]])) {
    temp_values <- strsplit(data[i, "temp"], ",") 
    temp_values <- unlist(lapply(temp_values, as.numeric))
    max_value <- max(temp_values, na.rm = TRUE)
    if (is.infinite(max_value)) {
        max_value <- NA
    }
    data[i, "temp"] <- max_value
}
export(data, "cpu-clean.csv")

\end{code}


\subsection{Descriptive statistics}
\hypertarget{Listing 11}{}
\begin{lstlisting}[language=R, caption=]
\end{lstlisting}
\begin{code}{R}
ggplot(data, aes(x = ldate, y = litho)) +
  geom_boxplot(fill="deepskyblue")
    
ggplot(data, aes(x = ldate, y = litho)) +
    geom_point(shape = 1,color = "blue") +
    labs(x = "Launch Date", y = "Lithography (nm)")
\end{code}
\begin{code}{R}
ggplot(data, aes(x = tdp)) +
geom_histogram(binwidth = 5, fill = "deepskyblue")
summary(data$tdp)
\end{code}

\hypertarget{Listing 12}{}
\begin{lstlisting}[language=R, caption=]
\end{lstlisting}
\begin{code}{R}
    ggplot(data, aes(x = tdp)) +
 ggplot(data, aes(x = temp, y = tdp)) +
 geom_point(color = "deepskyblue", ) +
 geom_abline(mapping = aes(intercept = -50, slope = 1.2), color =
"darkblue")

 ggplot(data, aes(x = ncore, y = tdp)) +
 geom_point(color = "deepskyblue")

 ggplot(data, aes(x = bfreq, y = tdp)) +
 geom_point(color = "deepskyblue")

 ggplot(data, aes(x = litho, y = tdp)) +
 geom_boxplot(fill = "deepskyblue")

 ggplot(data, aes(x = market, y = tdp)) +
 geom_boxplot(fill = "deepskyblue")
\end{code}


%Phan xu ly thay the cho data$type
\hypertarget{Listing 13}{}
\begin{lstlisting}[language=R, caption=]
\end{lstlisting}
\begin{code}{R}
data$type<-data$market
data$type[(is.na(data$market)==F)&(grepl('Desktop',data$market)==T)]<-'Computer'
data$type[(is.na(data$market)==F)&(grepl('Server',data$market)==T)]<-'Computer'
data$type[(is.na(data$market)==F)&(grepl('Embedded',data$market)==T)]<-'Device'
data$type[(is.na(data$market)==F)&(grepl('Mobile',data$market)==T)]<-'Device'
data$type<-as.factor(data$type)
\end{code}


\hypertarget{Listing 14}{}
\begin{lstlisting}[language=R, caption=]
\end{lstlisting}
\begin{code}{R}
data$type <- ifelse(data$market == 'Server' | data$market == 'Desktop',
"Computers", "Devices")
data$type <- as.factor(data$type)

 ggplot(data, aes(x = type, y = tdp)) +
 geom_boxplot(fill = "deepskyblue")

 ggplot(data, aes(x = temp, y = tdp)) +
 geom_point(color = "deepskyblue", ) +
 facet_wrap(~data$type)
\end{code}


\hypertarget{Listing 15}{}
\begin{code}{R}
    summary(data)
\end{code}


\subsection{Inferential statistics}
%Data preparation
\hypertarget{Listing 16}{}
\begin{lstlisting}[language=R, caption=]
\end{lstlisting}
\begin{code}{R}
pacman::p_load(
    rio,     # for imports & exports
    ggplot2, # for plots
    zoo      # for year-quarter formats
)

data <- import("cpu-clean.csv") # rio::import
\end{code}
%

\hypertarget{Listing 17}{}
\begin{lstlisting}[language=R, caption=]
\end{lstlisting}
\begin{code}{R}
    data <- data[data$tdp < 150, ]
    data <- data[!is.na(data$tdp), ]
    data <- data[!is.na(data$bfreq), ]
    data <- data[!is.na(data$litho), ]
    data <- data[!is.na(data$ncore), ]
    data <- data[!is.na(data$temp), ]
\end{code}
%

\hypertarget{Listing 18}{}
\begin{lstlisting}[language=R, caption=]
\end{lstlisting}
\begin{code}{R}
set.seed(123)

train_indices <- sample(1:nrow(data), nrow(data) * 0.8)
train <- data[train_indices, ]
test <- data[-train_indices, ]
\end{code}
%
